# Добавляем файлы с исходным кодом к нашему проекту
target_sources(${PROJECT_NAME} PRIVATE ${${PROJECT_NAME}_LIB_SOURCES})

# Добавляем папку src к нашему проекту
target_include_directories(${PROJECT_NAME}
    PRIVATE
      "$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/src>"
)

# Если библиотека используется как папка, открываем доступ к заголовочным файлам
target_include_directories(${PROJECT_NAME}
    PUBLIC 
       "$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>"
)


# Имя файла библиотеки. К нему автоматически будет добавлено lib
set_target_properties(${PROJECT_NAME} PROPERTIES OUTPUT_NAME "${MY_LIB_OUTPUT_NAME}")

# Имя цели для сборки документации
set("EXAMPLES_TARGET" "examples")

# Если такое имя уже существует, значит библиотека собирается как част проекта
if(TARGET examples)
    # Устанавливаем уникальное имя цели для сборки
    set("EXAMPLES_TARGET" "stringutils-examples")
endif()

get_directory_property(hasParent PARENT_DIRECTORY)

# Если проект используется как папка, то устанавливаем уникальное имя
if(hasParent)
    # Устанавливаем уникальное имя цели для сборки
    set("EXAMPLES_TARGET" "stringutils-examples")
endif()

add_subdirectory(examples EXCLUDE_FROM_ALL)


add_custom_target(${EXAMPLES_TARGET}
    DEPENDS stringutils_basicexample
)

set_target_properties(${PROJECT_NAME} PROPERTIES LINKER_LANGUAGE CXX)

message(" === Targets settings complete")